<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8" />
  <title>Resume Builder</title>
  <meta name="viewport" content="width=device-width, initial-scale=1.0" />
  <link rel="stylesheet" href="style.css" />
</head>
<body>
  <div class="app-shell">
    <!-- Sidebar / steps -->
    <aside class="sidebar">
      <div>
        <div class="logo">
          <div class="logo-badge"><span>R</span></div>
          <div>
            <div class="logo-text-main">Resume Builder</div>
            <div class="logo-text-sub">Ship a clean resume in minutes.</div>
          </div>
        </div>

        <div class="sidebar-steps">
          <div class="step active" data-step="1">
            <div class="step-badge">1</div>
            <div>
              <div class="step-title">Start</div>
              <div>Welcome screen + call to action.</div>
            </div>
          </div>
          <div class="step" data-step="2">
            <div class="step-badge">2</div>
            <div>
              <div class="step-title">Enter info</div>
              <div>Personal details, experience, projects.</div>
            </div>
          </div>
          <div class="step" data-step="3">
            <div class="step-badge">3</div>
            <div>
              <div class="step-title">Generate</div>
              <div>Backend turns it into a resume.</div>
            </div>
          </div>
          <div class="step" data-step="4">
            <div class="step-badge">4</div>
            <div>
              <div class="step-title">Preview</div>
              <div>Preview / download (placeholder).</div>
            </div>
          </div>
        </div>
      </div>

      <div class="sidebar-footer">
        Team: <span>You</span> (UI) ¬∑ <span>Fields dev</span> ¬∑ <span>Casen</span> (Python)
      </div>
    </aside>

    <!-- Main content -->
    <main class="content">
      <!-- SCREEN 1: START -->
      <section class="screen active" id="screen-start">
        <header class="screen-header">
          <h1 class="screen-title">Let‚Äôs build your resume.</h1>
          <p class="screen-subtitle">
            Four screens, one clean flow. Start, fill, generate, preview.
          </p>
        </header>

        <div class="hero-card">
          <div class="hero-orb"></div>
          <div class="hero-badge">
            <span></span> Frontend prototype &middot; Ready in under an hour
          </div>
          <div class="hero-title">
            From <span class="hero-highlight">blank page</span> to
            <span class="hero-highlight">hired</span> ‚Äî faster.
          </div>
          <p class="hero-text">
            Plug your details into a structured form, send them to the Python backend,
            and output a polished resume. This UI just wires everything up so the logic
            is easy for Casen to hook into.
          </p>

          <div class="hero-cta-row">
            <button class="btn btn-primary" id="start-btn">
              Start building
              <span>‚Üí</span>
            </button>
            <button class="btn btn-secondary" id="jump-to-form-btn">
              Jump to fields
            </button>
          </div>

          <div class="hero-metrics">
            <div>
              <div class="hero-metric-label">4 screens</div>
              <div>GUI requirement, checked.</div>
            </div>
            <div>
              <div class="hero-metric-label">JS hooks</div>
              <div>Data ready for Python backend.</div>
            </div>
          </div>
        </div>
      </section>

      <!-- SCREEN 2: FORM -->
      <section class="screen" id="screen-form">
        <header class="screen-header">
          <h2 class="screen-title">Enter your info</h2>
          <p class="screen-subtitle">
            Dummy fields for now ‚Äî tweak labels / add more as you decompose a real resume.
          </p>
        </header>

        <form id="resume-form">
          <div class="form-layout">
            <!-- LEFT: Personal + experience -->
            <div>
              <!-- Personal info -->
              <div class="form-section">
                <div class="form-section-header">
                  <div class="form-section-title">Personal info</div>
                  <div class="form-section-tag">Basics</div>
                </div>

                <div class="field-group">
                  <div class="field">
                    <label for="full_name">Full name</label>
                    <input id="full_name" name="full_name" placeholder="Ada Lovelace" />
                  </div>
                  <div class="field">
                    <label for="email">Email</label>
                    <input id="email" name="email" type="email" placeholder="ada@example.com" />
                  </div>
                  <div class="field">
                    <label for="phone">Phone</label>
                    <input id="phone" name="phone" placeholder="(555) 123-4567" />
                  </div>
                  <div class="field">
                    <label for="headline">Headline / desired role</label>
                    <input id="headline" name="headline" placeholder="Software Developer ¬∑ Backend / Python" />
                  </div>
                  <div class="field">
                    <label for="summary">Short summary</label>
                    <textarea id="summary" name="summary" placeholder="2‚Äì3 sentences about your experience, tech stack, and what you‚Äôre looking for."></textarea>
                  </div>
                </div>
              </div>

              <!-- Experience (Job 1) -->
              <div class="form-section" style="margin-top: 1rem;">
                <div class="form-section-header">
                  <div class="form-section-title">Experience (Job 1)</div>
                  <div class="form-section-tag">Recent</div>
                </div>

                <div class="field-group">
                  <div class="field">
                    <label for="exp1_title">Job title</label>
                    <input id="exp1_title" name="exp1_title" placeholder="Software Engineering Intern" />
                  </div>
                  <div class="field">
                    <label for="exp1_company">Company</label>
                    <input id="exp1_company" name="exp1_company" placeholder="Tech Corp" />
                  </div>
                  <div class="field">
                    <label for="exp1_dates">Dates</label>
                    <input id="exp1_dates" name="exp1_dates" placeholder="May 2024 ‚Äì Aug 2024" />
                  </div>
                  <div class="field">
                    <label for="exp1_bullets">Highlights (bullets)</label>
                    <textarea id="exp1_bullets" name="exp1_bullets" placeholder="- Built X using Y&#10;- Improved Z by 20%"></textarea>
                  </div>
                </div>
              </div>
            </div>

            <!-- RIGHT: Second experience + projects -->
            <div>
              <!-- Experience (Job 2) -->
              <div class="form-section">
                <div class="form-section-header">
                  <div class="form-section-title">Experience (Job 2)</div>
                  <div class="form-section-tag">Optional</div>
                </div>

                <div class="field-group">
                  <div class="field">
                    <label for="exp2_title">Job title</label>
                    <input id="exp2_title" name="exp2_title" placeholder="Student IT Assistant" />
                  </div>
                  <div class="field">
                    <label for="exp2_company">Company</label>
                    <input id="exp2_company" name="exp2_company" placeholder="Ohio University" />
                  </div>
                  <div class="field">
                    <label for="exp2_dates">Dates</label>
                    <input id="exp2_dates" name="exp2_dates" placeholder="Jan 2023 ‚Äì Present" />
                  </div>
                  <div class="field">
                    <label for="exp2_bullets">Highlights (bullets)</label>
                    <textarea id="exp2_bullets" name="exp2_bullets" placeholder="- Supported X&#10;- Automated Y"></textarea>
                  </div>
                </div>
              </div>

              <!-- Projects -->
              <div class="form-section" style="margin-top: 1rem;">
                <div class="form-section-header">
                  <div class="form-section-title">Projects</div>
                  <div class="form-section-tag">Portfolio</div>
                </div>

                <div class="field-group">
                  <div class="field">
                    <label for="proj1_name">Project name</label>
                    <input id="proj1_name" name="proj1_name" placeholder="Stock Consensus Web App" />
                  </div>
                  <div class="field">
                    <label for="proj1_tech">Tech stack</label>
                    <input id="proj1_tech" name="proj1_tech" placeholder="HTML ¬∑ CSS ¬∑ JS ¬∑ FastAPI ¬∑ Python" />
                  </div>
                  <div class="field">
                    <label for="proj1_desc">Description</label>
                    <textarea id="proj1_desc" name="proj1_desc" placeholder="Short description of what the project does and your contributions."></textarea>
                  </div>
                  <div class="field">
                    <label for="proj1_link">Link (GitHub / demo)</label>
                    <input id="proj1_link" name="proj1_link" placeholder="https://github.com/username/repo" />
                  </div>
                </div>
              </div>
            </div>
          </div>

          <!-- Footer buttons -->
          <div class="form-footer">
            <div class="pill-hint">
              Hint: duplicating a block is just copy/paste this whole <code>.form-section</code>.
            </div>
            <div style="display: flex; gap: 0.5rem;">
              <button type="button" class="btn btn-secondary" id="back-to-start-btn">‚Üê Back</button>
              <button type="submit" class="btn btn-primary">
                Generate resume
              </button>
            </div>
          </div>
        </form>
      </section>

      <!-- SCREEN 3: GENERATING -->
      <section class="screen" id="screen-generating">
        <div class="centered">
          <div class="spinner"></div>
          <div>
            <div class="screen-title">Generating your resume‚Ä¶</div>
            <p class="screen-subtitle">
              We‚Äôll send these fields to the Python backend and render a clean PDF/HTML resume.
            </p>
          </div>
          <div class="progress-bar">
            <div class="progress-bar-fill"></div>
          </div>
          <div class="status-pill">Working‚Ä¶ hooking into backend soon.</div>
        </div>
      </section>

      <!-- SCREEN 4: PREVIEW (placeholder) -->
      <section class="screen" id="screen-preview">
        <header class="screen-header">
          <h2 class="screen-title">Preview (placeholder screen)</h2>
          <p class="screen-subtitle">
            This is the 4th GUI screen. For now it just shows the captured data; later, swap this out with a pretty resume.
          </p>
        </header>

        <div class="preview-layout">
          <div class="preview-card">
            <h3>
              Data captured
              <span class="preview-badge">Frontend ‚Üí Backend payload</span>
            </h3>
            <p>
              This is exactly what you‚Äôll POST to the Python backend. Casen can take this object,
              feed it into their resume template logic, and respond with HTML/PDF.
            </p>

            <pre id="preview-json" class="preview-json"></pre>
          </div>

          <div class="preview-card">
            <h3>Integration notes</h3>
            <p>
              To send this data to the backend, call <code>fetch()</code> inside the form submit handler
              where <code>resumeData</code> is built.
            </p>

            <div class="chip-row">
              <div class="chip">FastAPI / Flask endpoint</div>
              <div class="chip">POST /generate-resume</div>
              <div class="chip">JSON body</div>
              <div class="chip">Return HTML or PDF</div>
            </div>

            <div class="preview-buttons">
              <button class="btn btn-secondary" id="preview-back-btn">‚Üê Edit info</button>
              <button class="btn btn-primary" type="button">
                Download (stub)
              </button>
            </div>

            <p style="margin-top: 1.1rem; font-size: 0.8rem; color: var(--text-muted);">
              Example backend hook (for Casen):
            </p>
            <pre class="preview-json" style="max-height: 220px;">
// JavaScript
fetch("/generate-resume", {
  method: "POST",
  headers: { "Content-Type": "application/json" },
  body: JSON.stringify(window.resumeData),
})
  .then(r => r.json()) // or .text() if HTML
  .then(data => {
    // TODO: show final resume HTML or download link here
    console.log("Backend result:", data);
  });

// Python (FastAPI-ish)
// @app.post("/generate-resume")
// async def generate_resume(payload: dict):
//     # payload == resumeData from frontend
//     # build resume and return HTML / file link
//     return payload
            </pre>
          </div>
        </div>
      </section>
    </main>
  </div>

  <script>
    // Screen switching
    const screens = document.querySelectorAll(".screen");
    const steps = document.querySelectorAll(".step");

    function showScreen(id) {
      screens.forEach((s) => s.classList.remove("active"));
      document.getElementById(id).classList.add("active");

      // Update sidebar steps
      const stepMap = {
        "screen-start": 1,
        "screen-form": 2,
        "screen-generating": 3,
        "screen-preview": 4,
      };
      const activeStep = stepMap[id];
      steps.forEach((step) => {
        const n = Number(step.getAttribute("data-step"));
        step.classList.toggle("active", n === activeStep);
      });
    }

    // Buttons
    document.getElementById("start-btn").addEventListener("click", () => {
      showScreen("screen-form");
    });
    document.getElementById("jump-to-form-btn").addEventListener("click", () => {
      showScreen("screen-form");
    });
    document.getElementById("back-to-start-btn").addEventListener("click", () => {
      showScreen("screen-start");
    });
    document.getElementById("preview-back-btn").addEventListener("click", () => {
      showScreen("screen-form");
    });

    // Form handling
    const form = document.getElementById("resume-form");
    let generationTimeout = null;
    window.resumeData = {}; // makes it easy for backend to inspect in dev tools

    form.addEventListener("submit", (e) => {
      e.preventDefault();

      const formData = new FormData(form);
      const data = Object.fromEntries(formData.entries());
      window.resumeData = data; // üîπ All values are now in a JS object

      console.log("Resume data:", data); // dev: inspect in console
      showScreen("screen-generating");

      // Fake "generating..." delay, then go to preview (4th screen).
      if (generationTimeout) clearTimeout(generationTimeout);
      generationTimeout = setTimeout(() => {
        const preview = document.getElementById("preview-json");
        preview.textContent = JSON.stringify(window.resumeData, null, 2);
        showScreen("screen-preview");
      }, 1600);

      /*
        üöÄ BACKEND HOOK FOR CASEN (uncomment & customize later):

        fetch("/generate-resume", {
          method: "POST",
          headers: { "Content-Type": "application/json" },
          body: JSON.stringify(window.resumeData),
        })
          .then((res) => res.json()) // or res.text() if returning HTML
          .then((result) => {
            // TODO: show final resume result in screen-preview instead of JSON
            console.log("Backend result:", result);
          })
          .catch((err) => console.error("Error from backend:", err));
      */
    });
  </script>
</body>
</html>
